---
# AWS Server Role - Main Task Entry Point
# Creates EC2 instance and supporting resources

- name: Run preflight checks
  ansible.builtin.include_tasks: preflight.yml

- name: Create security group
  ansible.builtin.include_tasks: security_group.yml

- name: Create EC2 instance
  ansible.builtin.include_tasks: ec2.yml

- name: Create and attach EBS volume
  ansible.builtin.include_tasks: ebs.yml

- name: Configure Patch Manager associations
  ansible.builtin.include_tasks: patch_manager.yml
